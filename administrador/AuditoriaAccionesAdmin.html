<!DOCTYPE html>

<html class="dark" lang="es"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Auditoría de Acciones Admin</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#2463eb",
                        "background-light": "#f6f6f8",
                        "background-dark": "#111621",
                        "surface-dark": "#1a2231",
                    },
                    fontFamily: {
                        "display": ["Inter", "sans-serif"]
                    },
                    borderRadius: {"DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px"},
                },
            },
        }
    </script>
</head>
<body class="bg-background-light dark:bg-background-dark text-[#111318] dark:text-white font-display overflow-x-hidden">
<div class="relative flex min-h-screen w-full flex-col">
<!-- TopNavBar -->
<header class="sticky top-0 z-50 flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#e5e7eb] dark:border-b-[#282d39] bg-white dark:bg-[#111318] px-10 py-3">
<div class="flex items-center gap-4">
<div class="size-8 text-[#111318] dark:text-white">
<svg class="h-full w-full" fill="none" viewbox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
<path d="M8.57829 8.57829C5.52816 11.6284 3.451 15.5145 2.60947 19.7452C1.76794 23.9758 2.19984 28.361 3.85056 32.3462C5.50128 36.3314 8.29667 39.7376 11.8832 42.134C15.4698 44.5305 19.6865 45.8096 24 45.8096C28.3135 45.8096 32.5302 44.5305 36.1168 42.134C39.7033 39.7375 42.4987 36.3314 44.1494 32.3462C45.8002 28.361 46.2321 23.9758 45.3905 19.7452C44.549 15.5145 42.4718 11.6284 39.4217 8.57829L24 24L8.57829 8.57829Z" fill="currentColor"></path>
</svg>
</div>
<h2 class="text-[#111318] dark:text-white text-lg font-bold leading-tight tracking-[-0.015em]">Admin Console</h2>
</div>
<div class="flex flex-1 justify-end gap-8">
<nav class="hidden md:flex items-center gap-9">
<a class="text-[#637588] dark:text-[#9da6b9] hover:text-[#111318] dark:hover:text-white text-sm font-medium leading-normal transition-colors" href="#">Dashboard</a>
<a class="text-[#637588] dark:text-[#9da6b9] hover:text-[#111318] dark:hover:text-white text-sm font-medium leading-normal transition-colors" href="#">Sorteos</a>
<a class="text-[#637588] dark:text-[#9da6b9] hover:text-[#111318] dark:hover:text-white text-sm font-medium leading-normal transition-colors" href="#">Usuarios</a>
<a class="text-[#111318] dark:text-white text-sm font-medium leading-normal transition-colors" href="#">Auditoría</a>
<a class="text-[#637588] dark:text-[#9da6b9] hover:text-[#111318] dark:hover:text-white text-sm font-medium leading-normal transition-colors" href="#">Configuración</a>
</nav>
<div class="flex gap-2">
<button class="flex size-10 cursor-pointer items-center justify-center overflow-hidden rounded-lg bg-[#f0f2f4] dark:bg-[#282d39] text-[#111318] dark:text-white hover:bg-[#e5e7eb] dark:hover:bg-[#333a4a] transition-colors">
<span class="material-symbols-outlined text-[20px]">notifications</span>
</button>
<button class="flex size-10 cursor-pointer items-center justify-center overflow-hidden rounded-lg bg-[#f0f2f4] dark:bg-[#282d39] text-[#111318] dark:text-white hover:bg-[#e5e7eb] dark:hover:bg-[#333a4a] transition-colors">
<span class="material-symbols-outlined text-[20px]">settings</span>
</button>
</div>
<div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10 ring-2 ring-white dark:ring-[#282d39]" data-alt="Avatar de usuario administrador" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuD8zCBznw8BEg-He4VmhtvjykQWX56ao1zHuMCkhk7a3PgEO0plfKX4WWGORLNelxNrfZxfgcm4Zfnj1jqdIlVxG1OWtSanUvlQhB50s5Uw38ccISOv7ddLsn5y3fsEf4B7XiD3OD9j2ed5edawQTp2F4w0xuE_xYgmc53E7KbXtsCGr4-NQjzkB5Zc-NeYtyMNIxTAUPw_JoDpmio7AHslELkCGHTdC4vrVuhiNh0pTS6WYxfvdaWCLbN0oAPHhSrZ17uwcBrX2zI");'></div>
</div>
</header>
<div class="layout-container flex h-full grow flex-col">
<div class="px-4 md:px-10 lg:px-40 flex flex-1 justify-center py-5">
<div class="layout-content-container flex flex-col max-w-[1200px] flex-1">
<!-- Breadcrumbs -->
<div class="flex flex-wrap gap-2 px-4 py-2">
<a class="text-[#637588] dark:text-[#9da6b9] text-sm font-medium leading-normal hover:text-primary transition-colors" href="#">Inicio</a>
<span class="text-[#637588] dark:text-[#9da6b9] text-sm font-medium leading-normal">/</span>
<a class="text-[#637588] dark:text-[#9da6b9] text-sm font-medium leading-normal hover:text-primary transition-colors" href="#">Admin</a>
<span class="text-[#637588] dark:text-[#9da6b9] text-sm font-medium leading-normal">/</span>
<span class="text-[#111318] dark:text-white text-sm font-medium leading-normal">Auditoría de Acciones</span>
</div>
<!-- Page Heading -->
<div class="flex flex-wrap justify-between items-end gap-3 px-4 py-6">
<div class="flex min-w-72 flex-col gap-2">
<h1 class="text-[#111318] dark:text-white text-3xl md:text-4xl font-black leading-tight tracking-[-0.033em]">Registro de Auditoría</h1>
<p class="text-[#637588] dark:text-[#9da6b9] text-base font-normal leading-normal">Supervisión y trazabilidad de eventos del sistema en tiempo real.</p>
</div>
<div class="flex gap-3">
<button class="flex items-center justify-center gap-2 rounded-lg h-10 px-4 bg-[#f0f2f4] dark:bg-[#282d39] text-[#111318] dark:text-white text-sm font-bold hover:bg-[#e5e7eb] dark:hover:bg-[#333a4a] transition-colors border border-transparent dark:border-[#3e4556]">
<span class="material-symbols-outlined text-[20px]">refresh</span>
<span class="hidden sm:inline">Actualizar</span>
</button>
<button class="flex items-center justify-center gap-2 rounded-lg h-10 px-4 bg-primary text-white text-sm font-bold shadow-lg shadow-primary/30 hover:bg-blue-600 transition-all">
<span class="material-symbols-outlined text-[20px]">download</span>
<span class="truncate">Exportar CSV</span>
</button>
</div>
</div>
<!-- Filters & Search -->
<div class="px-4 py-2">
<div class="flex flex-col lg:flex-row gap-4 lg:items-center justify-between rounded-xl bg-white dark:bg-[#1e293b] p-4 shadow-sm border border-[#e5e7eb] dark:border-[#282d39]">
<!-- Search -->
<div class="flex-1 min-w-[300px]">
<label class="flex w-full items-center gap-2 rounded-lg border border-[#e5e7eb] dark:border-[#3e4556] bg-white dark:bg-[#111621] px-3 h-10 focus-within:border-primary focus-within:ring-1 focus-within:ring-primary transition-all">
<span class="material-symbols-outlined text-[#9da6b9]">search</span>
<input class="w-full bg-transparent text-sm text-[#111318] dark:text-white placeholder:text-[#9da6b9] focus:outline-none" placeholder="Buscar por ID de sorteo, email o recurso..."/>
</label>
</div>
<!-- Filter Chips -->
<div class="flex flex-wrap gap-2 items-center">
<span class="text-xs font-semibold text-[#637588] dark:text-[#9da6b9] uppercase tracking-wider mr-1">Filtros:</span>
<div class="relative group">
<button class="flex h-8 items-center gap-x-2 rounded-md bg-[#f0f2f4] dark:bg-[#282d39] px-3 hover:bg-[#e5e7eb] dark:hover:bg-[#333a4a] transition-colors border border-transparent dark:border-[#3e4556]">
<span class="text-[#111318] dark:text-white text-xs font-medium">Últimos 7 días</span>
<span class="material-symbols-outlined text-[#111318] dark:text-white text-[16px]">calendar_today</span>
</button>
</div>
<div class="relative group">
<button class="flex h-8 items-center gap-x-2 rounded-md bg-[#f0f2f4] dark:bg-[#282d39] px-3 hover:bg-[#e5e7eb] dark:hover:bg-[#333a4a] transition-colors border border-transparent dark:border-[#3e4556]">
<span class="text-[#111318] dark:text-white text-xs font-medium">Tipo: Todos</span>
<span class="material-symbols-outlined text-[#111318] dark:text-white text-[16px]">expand_more</span>
</button>
</div>
<div class="relative group">
<button class="flex h-8 items-center gap-x-2 rounded-md bg-[#f0f2f4] dark:bg-[#282d39] px-3 hover:bg-[#e5e7eb] dark:hover:bg-[#333a4a] transition-colors border border-transparent dark:border-[#3e4556]">
<span class="text-[#111318] dark:text-white text-xs font-medium">Estado: Todos</span>
<span class="material-symbols-outlined text-[#111318] dark:text-white text-[16px]">filter_list</span>
</button>
</div>
<div class="h-6 w-px bg-[#e5e7eb] dark:bg-[#3e4556] mx-1"></div>
<button class="flex h-8 items-center gap-x-1 rounded-md bg-red-500/10 dark:bg-red-500/20 px-3 hover:bg-red-500/20 dark:hover:bg-red-500/30 transition-colors border border-red-500/20 dark:border-red-500/30">
<span class="material-symbols-outlined text-red-600 dark:text-red-400 text-[16px]">warning</span>
<span class="text-red-600 dark:text-red-400 text-xs font-bold">Solo Alertas</span>
</button>
</div>
</div>
</div>
<!-- Data Table -->
<div class="px-4 py-4">
<div class="overflow-hidden rounded-xl border border-[#e5e7eb] dark:border-[#282d39] bg-white dark:bg-[#1e293b] shadow-sm">
<div class="overflow-x-auto">
<table class="w-full text-left text-sm text-[#637588] dark:text-[#9da6b9]">
<thead class="bg-[#f8fafc] dark:bg-[#111621] text-xs uppercase font-semibold text-[#111318] dark:text-white border-b border-[#e5e7eb] dark:border-[#282d39]">
<tr>
<th class="px-6 py-4 whitespace-nowrap w-48" scope="col">Fecha y Hora</th>
<th class="px-6 py-4 whitespace-nowrap w-56" scope="col">Actor</th>
<th class="px-6 py-4 whitespace-nowrap w-48" scope="col">Acción</th>
<th class="px-6 py-4 whitespace-nowrap" scope="col">Recurso Afectado</th>
<th class="px-6 py-4 whitespace-nowrap w-32 text-center" scope="col">Estado</th>
<th class="px-6 py-4 whitespace-nowrap w-24 text-right" scope="col"></th>
</tr>
</thead>
<tbody class="divide-y divide-[#e5e7eb] dark:divide-[#282d39]">
<!-- Row 1: Success -->
<tr class="group hover:bg-[#f1f5f9] dark:hover:bg-[#282d39] transition-colors">
<td class="px-6 py-4 whitespace-nowrap font-medium text-[#111318] dark:text-white">
                                            24 Oct 2023 <span class="text-[#9da6b9] ml-1 font-normal text-xs">14:30:22</span>
</td>
<td class="px-6 py-4 whitespace-nowrap">
<div class="flex items-center gap-3">
<div class="size-8 rounded-full bg-[#e0e7ff] dark:bg-primary/20 flex items-center justify-center text-primary font-bold text-xs">
                                                    JD
                                                </div>
<div class="flex flex-col">
<span class="text-[#111318] dark:text-white font-medium">Juan Doe</span>
<span class="text-xs">Admin</span>
</div>
</div>
</td>
<td class="px-6 py-4 whitespace-nowrap">
<span class="inline-flex items-center rounded-md bg-blue-50 dark:bg-blue-900/30 px-2 py-1 text-xs font-medium text-blue-700 dark:text-blue-300 ring-1 ring-inset ring-blue-700/10 dark:ring-blue-400/20">
                                                Validación Pago
                                            </span>
</td>
<td class="px-6 py-4 whitespace-nowrap font-mono text-xs text-[#111318] dark:text-[#cbd5e1]">
                                            Sorteo #404-B
                                        </td>
<td class="px-6 py-4 whitespace-nowrap text-center">
<span class="inline-flex items-center gap-1 rounded-full bg-emerald-50 dark:bg-emerald-900/30 px-2 py-1 text-xs font-medium text-emerald-700 dark:text-emerald-400">
<span class="h-1.5 w-1.5 rounded-full bg-emerald-500"></span>
                                                Exitoso
                                            </span>
</td>
<td class="px-6 py-4 whitespace-nowrap text-right">
<button class="text-[#9da6b9] hover:text-primary transition-colors">
<span class="material-symbols-outlined text-[20px]">visibility</span>
</button>
</td>
</tr>
<!-- Row 2: System Action -->
<tr class="group hover:bg-[#f1f5f9] dark:hover:bg-[#282d39] transition-colors">
<td class="px-6 py-4 whitespace-nowrap font-medium text-[#111318] dark:text-white">
                                            24 Oct 2023 <span class="text-[#9da6b9] ml-1 font-normal text-xs">14:25:10</span>
</td>
<td class="px-6 py-4 whitespace-nowrap">
<div class="flex items-center gap-3">
<div class="size-8 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center text-purple-600 dark:text-purple-400 font-bold">
<span class="material-symbols-outlined text-[16px]">smart_toy</span>
</div>
<div class="flex flex-col">
<span class="text-[#111318] dark:text-white font-medium">Sistema</span>
<span class="text-xs">Automático</span>
</div>
</div>
</td>
<td class="px-6 py-4 whitespace-nowrap">
<span class="inline-flex items-center rounded-md bg-purple-50 dark:bg-purple-900/30 px-2 py-1 text-xs font-medium text-purple-700 dark:text-purple-300 ring-1 ring-inset ring-purple-700/10 dark:ring-purple-400/20">
                                                Generar Ganador
                                            </span>
</td>
<td class="px-6 py-4 whitespace-nowrap font-mono text-xs text-[#111318] dark:text-[#cbd5e1]">
                                            Sorteo #404-B
                                        </td>
<td class="px-6 py-4 whitespace-nowrap text-center">
<span class="inline-flex items-center gap-1 rounded-full bg-emerald-50 dark:bg-emerald-900/30 px-2 py-1 text-xs font-medium text-emerald-700 dark:text-emerald-400">
<span class="h-1.5 w-1.5 rounded-full bg-emerald-500"></span>
                                                Exitoso
                                            </span>
</td>
<td class="px-6 py-4 whitespace-nowrap text-right">
<button class="text-[#9da6b9] hover:text-primary transition-colors">
<span class="material-symbols-outlined text-[20px]">visibility</span>
</button>
</td>
</tr>
<!-- Row 3: Critical Alert -->
<tr class="group bg-red-50/50 dark:bg-red-900/5 hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors border-l-2 border-l-red-500">
<td class="px-6 py-4 whitespace-nowrap font-medium text-[#111318] dark:text-white">
                                            24 Oct 2023 <span class="text-[#9da6b9] ml-1 font-normal text-xs">12:00:05</span>
</td>
<td class="px-6 py-4 whitespace-nowrap">
<div class="flex items-center gap-3">
<div class="size-8 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-gray-500 dark:text-gray-400 font-bold text-xs">
                                                    ?
                                                </div>
<div class="flex flex-col">
<span class="text-[#111318] dark:text-white font-medium">Desconocido</span>
<span class="text-xs">IP: 192.168.1.45</span>
</div>
</div>
</td>
<td class="px-6 py-4 whitespace-nowrap">
<span class="inline-flex items-center rounded-md bg-red-50 dark:bg-red-900/30 px-2 py-1 text-xs font-medium text-red-700 dark:text-red-300 ring-1 ring-inset ring-red-600/10 dark:ring-red-400/20">
                                                Login Fallido
                                            </span>
</td>
<td class="px-6 py-4 whitespace-nowrap font-mono text-xs text-[#111318] dark:text-[#cbd5e1]">
                                            Auth Module
                                        </td>
<td class="px-6 py-4 whitespace-nowrap text-center">
<span class="inline-flex items-center gap-1 rounded-full bg-red-50 dark:bg-red-900/30 px-2 py-1 text-xs font-medium text-red-700 dark:text-red-400">
<span class="material-symbols-outlined text-[14px]">close</span>
                                                Fallido
                                            </span>
</td>
<td class="px-6 py-4 whitespace-nowrap text-right">
<button class="text-red-500 hover:text-red-600 dark:hover:text-red-400 transition-colors">
<span class="material-symbols-outlined text-[20px]">warning</span>
</button>
</td>
</tr>
<!-- Row 4: Modification -->
<tr class="group hover:bg-[#f1f5f9] dark:hover:bg-[#282d39] transition-colors">
<td class="px-6 py-4 whitespace-nowrap font-medium text-[#111318] dark:text-white">
                                            23 Oct 2023 <span class="text-[#9da6b9] ml-1 font-normal text-xs">09:15:33</span>
</td>
<td class="px-6 py-4 whitespace-nowrap">
<div class="flex items-center gap-3">
<div class="size-8 rounded-full bg-[#e0e7ff] dark:bg-primary/20 flex items-center justify-center text-primary font-bold text-xs">
                                                    LM
                                                </div>
<div class="flex flex-col">
<span class="text-[#111318] dark:text-white font-medium">Laura M.</span>
<span class="text-xs">Moderator</span>
</div>
</div>
</td>
<td class="px-6 py-4 whitespace-nowrap">
<span class="inline-flex items-center rounded-md bg-yellow-50 dark:bg-yellow-900/30 px-2 py-1 text-xs font-medium text-yellow-700 dark:text-yellow-300 ring-1 ring-inset ring-yellow-600/20 dark:ring-yellow-400/20">
                                                Edición Usuario
                                            </span>
</td>
<td class="px-6 py-4 whitespace-nowrap font-mono text-xs text-[#111318] dark:text-[#cbd5e1]">
                                            user: @cliente_x
                                        </td>
<td class="px-6 py-4 whitespace-nowrap text-center">
<span class="inline-flex items-center gap-1 rounded-full bg-emerald-50 dark:bg-emerald-900/30 px-2 py-1 text-xs font-medium text-emerald-700 dark:text-emerald-400">
<span class="h-1.5 w-1.5 rounded-full bg-emerald-500"></span>
                                                Exitoso
                                            </span>
</td>
<td class="px-6 py-4 whitespace-nowrap text-right">
<button class="text-[#9da6b9] hover:text-primary transition-colors">
<span class="material-symbols-outlined text-[20px]">visibility</span>
</button>
</td>
</tr>
<!-- Row 5: Creation -->
<tr class="group hover:bg-[#f1f5f9] dark:hover:bg-[#282d39] transition-colors">
<td class="px-6 py-4 whitespace-nowrap font-medium text-[#111318] dark:text-white">
                                            22 Oct 2023 <span class="text-[#9da6b9] ml-1 font-normal text-xs">18:42:01</span>
</td>
<td class="px-6 py-4 whitespace-nowrap">
<div class="flex items-center gap-3">
<div class="size-8 rounded-full bg-[#e0e7ff] dark:bg-primary/20 flex items-center justify-center text-primary font-bold text-xs">
                                                    JD
                                                </div>
<div class="flex flex-col">
<span class="text-[#111318] dark:text-white font-medium">Juan Doe</span>
<span class="text-xs">Admin</span>
</div>
</div>
</td>
<td class="px-6 py-4 whitespace-nowrap">
<span class="inline-flex items-center rounded-md bg-indigo-50 dark:bg-indigo-900/30 px-2 py-1 text-xs font-medium text-indigo-700 dark:text-indigo-300 ring-1 ring-inset ring-indigo-700/10 dark:ring-indigo-400/20">
                                                Creación Sorteo
                                            </span>
</td>
<td class="px-6 py-4 whitespace-nowrap font-mono text-xs text-[#111318] dark:text-[#cbd5e1]">
                                            Sorteo #405
                                        </td>
<td class="px-6 py-4 whitespace-nowrap text-center">
<span class="inline-flex items-center gap-1 rounded-full bg-emerald-50 dark:bg-emerald-900/30 px-2 py-1 text-xs font-medium text-emerald-700 dark:text-emerald-400">
<span class="h-1.5 w-1.5 rounded-full bg-emerald-500"></span>
                                                Exitoso
                                            </span>
</td>
<td class="px-6 py-4 whitespace-nowrap text-right">
<button class="text-[#9da6b9] hover:text-primary transition-colors">
<span class="material-symbols-outlined text-[20px]">visibility</span>
</button>
</td>
</tr>
</tbody>
</table>
</div>
<!-- Pagination -->
<div class="flex items-center justify-between border-t border-[#e5e7eb] dark:border-[#282d39] bg-white dark:bg-[#1e293b] px-4 py-3 sm:px-6">
<div class="hidden sm:flex sm:flex-1 sm:items-center sm:justify-between">
<div>
<p class="text-sm text-[#637588] dark:text-[#9da6b9]">
                                        Mostrando <span class="font-medium text-[#111318] dark:text-white">1</span> a <span class="font-medium text-[#111318] dark:text-white">5</span> de <span class="font-medium text-[#111318] dark:text-white">128</span> resultados
                                    </p>
</div>
<div>
<nav aria-label="Pagination" class="isolate inline-flex -space-x-px rounded-md shadow-sm">
<a class="relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 dark:ring-[#3e4556] hover:bg-gray-50 dark:hover:bg-[#333a4a] focus:z-20 focus:outline-offset-0" href="#">
<span class="sr-only">Previous</span>
<span class="material-symbols-outlined text-[20px]">chevron_left</span>
</a>
<a aria-current="page" class="relative z-10 inline-flex items-center bg-primary px-4 py-2 text-sm font-semibold text-white focus:z-20 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600" href="#">1</a>
<a class="relative inline-flex items-center px-4 py-2 text-sm font-semibold text-[#111318] dark:text-white ring-1 ring-inset ring-gray-300 dark:ring-[#3e4556] hover:bg-gray-50 dark:hover:bg-[#333a4a] focus:z-20 focus:outline-offset-0" href="#">2</a>
<a class="relative hidden items-center px-4 py-2 text-sm font-semibold text-[#111318] dark:text-white ring-1 ring-inset ring-gray-300 dark:ring-[#3e4556] hover:bg-gray-50 dark:hover:bg-[#333a4a] focus:z-20 focus:outline-offset-0 md:inline-flex" href="#">3</a>
<span class="relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-700 dark:text-gray-400 ring-1 ring-inset ring-gray-300 dark:ring-[#3e4556] focus:outline-offset-0">...</span>
<a class="relative hidden items-center px-4 py-2 text-sm font-semibold text-[#111318] dark:text-white ring-1 ring-inset ring-gray-300 dark:ring-[#3e4556] hover:bg-gray-50 dark:hover:bg-[#333a4a] focus:z-20 focus:outline-offset-0 md:inline-flex" href="#">8</a>
<a class="relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 dark:ring-[#3e4556] hover:bg-gray-50 dark:hover:bg-[#333a4a] focus:z-20 focus:outline-offset-0" href="#">
<span class="sr-only">Next</span>
<span class="material-symbols-outlined text-[20px]">chevron_right</span>
</a>
</nav>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script>
    (function() {
        // 1. Capturamos los inputs de búsqueda
        const tableSearchInput = document.querySelector('input[placeholder*="Buscar por ID de sorteo"]');
        const headerSearch = document.querySelector('input[placeholder*="Buscar sorteo, usuario"]');
    
        function getTableRows() {
            const rows = Array.from(document.querySelectorAll('table tbody tr'));
            return rows.map(row => {
                const cells = row.querySelectorAll('td');
                return {
                    tr: row,
                    fecha: cells[0]?.innerText || '',
                    actor: cells[1]?.innerText || '',
                    accion: cells[2]?.innerText || '',
                    recurso: cells[3]?.innerText || '',
                    estado: cells[4]?.innerText || ''
                };
            });
        }
    
        // Estado de filtros (Añadimos 'buscador')
        let filtros = {fecha:null, tipo:null, estado:null, buscador: ''};
    
        // 2. Función de filtrado mejorada (Línea clave)
        function applyFilters() {
            const rows = getTableRows();
            const query = filtros.buscador.toLowerCase();
    
            rows.forEach(obj => {
                let matchesButtons = true;
                let matchesSearch = true;
    
                // Filtros de botones
                if (filtros.fecha) matchesButtons = matchesButtons && obj.fecha.toLowerCase().includes(filtros.fecha.toLowerCase());
                if (filtros.tipo) matchesButtons = matchesButtons && obj.accion.toLowerCase().includes(filtros.tipo.toLowerCase());
                if (filtros.estado) matchesButtons = matchesButtons && obj.estado.toLowerCase().includes(filtros.estado.toLowerCase());
    
                // Filtro del buscador
                if (query) {
                    matchesSearch = obj.fecha.toLowerCase().includes(query) || 
                                    obj.actor.toLowerCase().includes(query) || 
                                    obj.accion.toLowerCase().includes(query) || 
                                    obj.recurso.toLowerCase().includes(query) || 
                                    obj.estado.toLowerCase().includes(query);
                }
    
                obj.tr.style.display = (matchesButtons && matchesSearch) ? '' : 'none';
            });
        }
    
        // 3. Listeners para los inputs
        [tableSearchInput, headerSearch].forEach(input => {
            if (input) {
                input.addEventListener('input', (e) => {
                    filtros.buscador = e.target.value;
                    applyFilters();
                });
            }
        });
    
        // --- Resto de tus funciones originales (Actualizar, Exportar, etc.) ---
        const btnFecha = Array.from(document.querySelectorAll('button')).find(b=>b.innerText.includes('Últimos 7 días'));
        const btnTipo = Array.from(document.querySelectorAll('button')).find(b=>b.innerText.includes('Tipo: Todos'));
        const btnEstado = Array.from(document.querySelectorAll('button')).find(b=>b.innerText.includes('Estado: Todos'));
        const btnActualizar = Array.from(document.querySelectorAll('button')).find(b=>b.innerText.includes('Actualizar'));
        const btnExportar = Array.from(document.querySelectorAll('button')).find(b=>b.innerText.includes('Exportar CSV'));
    
        if (btnFecha) btnFecha.addEventListener('click', () => { filtros.fecha = prompt('Fecha:') || null; applyFilters(); });
        if (btnTipo) btnTipo.addEventListener('click', () => { filtros.tipo = prompt('Acción:') || null; applyFilters(); });
        if (btnEstado) btnEstado.addEventListener('click', () => { filtros.estado = prompt('Estado:') || null; applyFilters(); });
        
        if (btnActualizar) btnActualizar.addEventListener('click', () => {
            filtros = {fecha:null, tipo:null, estado:null, buscador: ''};
            if(tableSearchInput) tableSearchInput.value = '';
            if(headerSearch) headerSearch.value = '';
            applyFilters();
        });
    
        if (btnExportar) btnExportar.addEventListener('click', function() {
            let csv = [["Fecha", "Actor", "Accion", "Recurso", "Estado"].join(',')];
            getTableRows().forEach(obj => {
                if(obj.tr.style.display !== 'none') csv.push([obj.fecha, obj.actor, obj.accion, obj.recurso, obj.estado].map(v => '"'+v.replace(/"/g,'""')+'"').join(','));
            });
            const blob = new Blob([csv.join('\r\n')], {type: 'text/csv'});
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = 'auditoria.csv';
            link.click();
        });
    })();
    </script>
</body></html>

//pagina para ver la auditoria de acciones como administrador despues de iniciar sesion
//Se ve esta pagina para ver la auditoria de acciones de la plataforma y los usuarios.